<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="博客">
<meta property="og:url" content="https://vimd.github.io/index.html">
<meta property="og:site_name" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://vimd.github.io/"/>





  <title> 博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/10/12/诡异的BadTokenException/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/12/诡异的BadTokenException/" itemprop="url">
                  诡异的BadTokenException
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-12T21:34:33+08:00">
                2017-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="1-写作目的"><a href="#1-写作目的" class="headerlink" title="1.写作目的"></a>1.写作目的</h3><p>&emsp;&emsp;最近遇到一个线上问题，Activity在启动的时候按home键之后会报一个BadTokenException的崩溃异常，由于log不全，没有分析出原因。不过还是学到不少东西，准备记录一下，所以看完之后你并不能找到解决方案，但是应该能搞明白以下三个问题：</p>
<ol>
<li><strong>为什么创建Dialog时的context参数只能是Ativity</strong></li>
<li><strong>为什么Dialog依赖的Activity finish之后，Dialog不能show</strong></li>
<li><strong>为什么有些情况下Activity启动时按home键之后应用会崩溃</strong></li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/10/12/诡异的BadTokenException/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/09/18/创建线程时发生OOM异常分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/09/18/创建线程时发生OOM异常分析/" itemprop="url">
                  创建线程时发生OOM异常分析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-18T21:50:57+08:00">
                2017-09-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>&emsp;&emsp;最近我们应用线上出现了一个问题：创建线程时发生OOM异常导致崩溃。领导让深入分析一下，看看是什么原因。既然要深入分析，那就只有一条路了：看源码。以下分析时基于Android 4.0.4源码。</p>
<h3 id="1、Thread对象是如何和线程关联的"><a href="#1、Thread对象是如何和线程关联的" class="headerlink" title="1、Thread对象是如何和线程关联的"></a>1、Thread对象是如何和线程关联的</h3><p>&emsp;&emsp;我们知道new一个Thread对象就会创建一个线程，那这个是怎么实现的呢？看Thread源码发现，当new一个Thread对象时并没有创建线程，只是一些变量赋值（Thread的构造方法会调用create方法）。<br>其实，线程的创建是在调用Thread对象的start方法是发生的，start方法的源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (hasBeenStarted) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalThreadStateException(<span class="string">"Thread already started."</span>); <span class="comment">// TODO Externalize?</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        hasBeenStarted = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">        VMThread.create(<span class="keyword">this</span>, stackSize);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/18/创建线程时发生OOM异常分析/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/08/05/关于人气是什么的一个启示/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/05/关于人气是什么的一个启示/" itemprop="url">
                  关于人气是什么的一个启示
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-05T20:33:21+08:00">
                2017-08-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/脑洞大开/" itemprop="url" rel="index">
                    <span itemprop="name">脑洞大开</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;之前同学给我推荐了一本书，马伯庸的《古董局中局》。然后我在掌阅上花了50多大洋买了一套电子版的大合集，我现在看书也是下血本啊，不过知识产权还是要尊重的。这本书写的还可以，也挺吸引人的，不过我看这本书的最大收获是想明白了生活中常说的人气到底是什么。</p>
<p>&emsp;&emsp;这本书中，主角许愿为了找一些线索去了药家老宅，然后内心感叹了一下这个老宅没什么人气。也不知道为啥，我突然想知道我们常说的人气到底是一种什么东西呢？很明显这种东西能被人感觉的到。在漫无目的的想了一圈之后，感觉没有什么收获，于是我就改变了策略，开始定性的来分析：人气的减少是一个不断变化的过程，那么肯定有另外一个东西也在跟着人气的减少同步做着相应的变化。那它是什么呢？我首先想到的是灰尘，因为灰尘确实是在变化：它在增加。但是说人气是灰尘我自己都不相信，虽然这个想法看着很白痴，不过后来证明这个想法也并非一无是处，因为灰尘的增加后来让我联想到房子的无序度在变大。然后激动的时刻就来了，无序度是什么？在物理学上衡量无序度用的就是熵啊！所以这个房子的另外一个在变化的东西就是熵，而且是在增加的，所以<strong>人气就是一种负熵</strong>。</p>
<p>&emsp;&emsp;<strong>人气是一种负熵</strong>，这个想法让我小激动了一段时间。虽然我没法严格的来证明这个东西，但是感觉这也不失为一个不错的想法。我想为科学做贡献的心果然还是没死啊，哈哈~</p>
<p>&emsp;&emsp;后来又过了一个段时间，我在回想起这个想法的时候，又冒出了一个新的想法：物理学上说的绝对零度是不是就是一种熵最大的状态？熵是衡量无序度的一个量，而且两者正相关。无序度大就意味着破败、颓废、没有生气，意味着一种趋近于死亡的状态。而绝对零度就是意味着没有任何生命，连分子都无法运动，因此，把绝对零度当做是一个系统的熵最大状态似乎也挺合情合理。不过呢，我也没有能力去证明，所以只能YY一下。脑子果然是个好东西啊，不过我是不是走的太远了？</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/07/30/Android-65536问题探究/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/30/Android-65536问题探究/" itemprop="url">
                  Android 65536问题探究
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-30T10:17:32+08:00">
                2017-07-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="问题出现"><a href="#问题出现" class="headerlink" title="问题出现"></a>问题出现</h3><p>&emsp;&emsp;随着现在apk功能的增加，工程的源码会不断增加，再加上引用的第三方库，导致工程中的方法数急剧增加。默认情况下打包工具会把所有定义及引用的方法都记录到一个dex文件中，当打包工具检测到一个dex文件中的方法数超过65536时就会抛出异常，从而导致打包失败。对应的代码如下（platform_dalvik-master\dx\src\com\android\dx\merge\Dexmerge.java，android4.2源码)：<br></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/07/30/Android-65536问题探究/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/07/29/那些年，碰到的问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/29/那些年，碰到的问题/" itemprop="url">
                  那些年，碰到的问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-29T21:57:46+08:00">
                2017-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>&emsp;&emsp;工作的过程中总是会遇到各种各样的问题，有时候解决了，但是一段时间后再碰到时又忘记了，现在索性记下来方便以后查阅。</p>
<h3 id="1、Android下C和Java中间使用socket的IPC"><a href="#1、Android下C和Java中间使用socket的IPC" class="headerlink" title="1、Android下C和Java中间使用socket的IPC"></a>1、Android下C和Java中间使用socket的IPC</h3><p>&emsp;&emsp;最近做项目碰到了需要C程序和Java程序间的通信，由于是本地的进程间通信，所以就使用了Unix Domain Socket。服务端用Java写的，使用LocalServerSocket类：LocalServerSocket lss = new LocalServerSocket(name);这一句相当于C中调用了socket、bind和listen三个函数，然后在调用该对象的accept函数就可以了。这本来没有什么问题，关键在于LocalServerSocket类的构造函数中的name参数，Google官网上对这个构造函数的解释有这么一句： the name is created in the Linux abstract namespace (instead of on the filesystem).（<a href="&quot;http://developer.android.com/reference/android/net/LocalServerSocket.html&quot;">LocalServerSocket</a>)。可以看到这个socket不是在文件系统中创建的（普通的Unix Domain Socket创建后会在某个目录下有个socket文件，比如：dev/socket/mysocket），而是在所谓的“抽象的命名空间”中创建的，这就决定了客户端不能用普通的socket函数来获得一个socket文件描述符，得使用cutils库中的socket_local_client函数（需要 #include &lt;cutils/sockets.h&gt;)，并且第二个参数要指定为：ANDROID_SOCKET_NAMESPACE_ABSTRACT。</p>
<h3 id="2、大端小端以及数字和数字对应的字符"><a href="#2、大端小端以及数字和数字对应的字符" class="headerlink" title="2、大端小端以及数字和数字对应的字符"></a>2、大端小端以及数字和数字对应的字符</h3>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/07/29/那些年，碰到的问题/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/07/22/关于fork函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/22/关于fork函数/" itemprop="url">
                  关于fork函数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-22T16:27:27+08:00">
                2017-07-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <!-- <font face="微软雅黑" size=4>-->
<h2 id="1、写作缘由"><a href="#1、写作缘由" class="headerlink" title="1、写作缘由"></a><strong>1、写作缘由</strong></h2><p>&emsp;&emsp;fork函数是用来创建子进程的，不过，长久以来让我迷惑不解的就是它的一次掉用两次返回，而且两次返回的结果还是不同的：父进程中返回的是子进程的ID，子进程中返回的是0。最近在看Linux 0.11的内核源码，突然犹如那个醍醐灌顶，拨云见日，一切豁然开朗啊。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/07/22/关于fork函数/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://vimd.github.io/2017/07/01/Linux0-0内核编译/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Zhijun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/01/Linux0-0内核编译/" itemprop="url">
                  Linux0.00内核编译
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-01T17:43:42+08:00">
                2017-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>&emsp;&emsp;一直以来都很浮躁，不能静下心来学习，但是“知其然，而不知其所以然”的状态又很让我不安，经常处在这样的矛盾之中。从小就很崇拜科学家和技术很厉害的人，而我也知道，对事物认识的深度决定了所能达到的高度，只是没有这样的恒心去坚持 。这次又燃起了三分钟学习的热度，不知道何时会退却，如果能在这个热度前加个限期，我希望是：死循环。</p>
<p>&emsp;&emsp;最近在看赵炯的《Linux内核完全剖析》，第四章给出了一个简单的内核代码，据说这是当年Linus写的第一个版本的代码，不过因为意外在江湖上失传了，就没有了原版的Linux－0.00版本的内核了，书中的代码是作者自己写的。好吧，言归正传，就讲讲最近几天编译这个内核学到的东西，其实我不太愿意写这样的文字，但是好记性不如烂笔头，先记下免得以后忘记。这里有一篇文章讲的挺好的：<a href="http://blog.csdn.net/qaz19870418/article/details/6049147" target="_blank" rel="external">http://blog.csdn.net/qaz19870418/article/details/6049147</a> ,我只做一些补充性的说明。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/07/01/Linux0-0内核编译/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Liu Zhijun" />
          <p class="site-author-name" itemprop="name">Liu Zhijun</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liu Zhijun</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
